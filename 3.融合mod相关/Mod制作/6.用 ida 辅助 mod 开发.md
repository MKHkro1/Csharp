大家应该知道，mono 打包的游戏可以直接用 dnspy 看到代码（前面讲过），但是 il 2 cpp 则不行。上期讲了 ida 的使用，这期主要讲实战。

实战项目 1：修改阳光数量
经过代码分析，我们可以知道，游戏局内主要管理类是 Board，具体怎么分析可以看下一期（

class Board.<>c，class Board.<CheckZombieNum>d__189 这种是用 template 的类，不是重点，我们关注的应该是 MonoBehaviour 的子类的 Board

从这个可以知道，我们只需要用 Board. Instance 就可以拿到实例了
Public int theSun 就是我们要修改的东西。

因为我们修改是实时修改，肯定放在 OnUpdate 里面
但是这样做有个问题：Board. Instance 可能为 null，所以做好判断。
不建议用 is not null，可以用 != null
关于 null 的问题，编译器不会提示，所以这时就要好好思考
如果没有判断 null 会怎么样呢?
很明显，每次 update 都会报错，直到不为 null

技巧：可以通过快捷键触发
GetKeyDown 是只有按下的一瞬间才会触发
GetKey 是只要按下就会触发，可以通过打印自己体会一下
这里不演示了



实战项目 2：杀死僵尸
场上僵尸列表是在 zombieArray 里的，这里使用遍历。僵尸死亡只需要调用 Die 方法
思考：为什么是逆序遍历？能不能是正序？



实战项目 3：生成阳光
我们并不知道如何生成阳光，但是我们知道向日葵会生成阳光，于是可以直接抄向日葵生成阳光的代码
经过分析（这个你应该会），就是生成阳光的代码
但是 CreateItem__SetCoin 是什么呢？
其实是 CreateItem 类中的 SetCoin 方法
要注意一点，ida 中函数的第一个永远是调用函数的对象（类似 python 类中的 this），是一个“类”的指针，方便操控成员变量
这里也需要判断 null，但我比较懒

实战项目 4：生成其它物品
这里要用到上节课讲的内容了
直接分析代码比较复杂，不如从调用入手
比如说这里的钱伞（？）调用了这个函数，其中 itemtype 是 13，那我们用 13 试一下。
看来 13 是生成小阳光的
当然你也可以通过植物来反推物品



其他：小技巧
每次编译完后，都要手动复制 dll，这里给出一种自动复制的方法



